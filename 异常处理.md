# ——————————异常处理——————————— #

<p id="t"></p>

## :book:异常处理 ##

:arrow_double_down:<a href="#a1">错误处理</a>


<p id="a1"><p>
  
### :crossed_flags:错误处理 ###

:arrow_double_up:<a href="#t">返回目录</a>

在Java程序运行期间出现一个错误，这个错误可能是由于文件包含了错误信息，或者网络连接出现问题造成的，也可能是其他错误。如果能够采用一些理智的行为。如过由于出现错误而使得某些错误没有完成，程序应该：
 
 * 返回到一种安全状态，并能够用户执行一些其他的命令
 
 * 允许用户保存所有操作的结果，并以妥善的方式终止程序

#### :circus_tent:Exception 类的层次  ####

所有的异常类是从 java.lang.Exception 类继承的子类。

Exception 类是 Throwable 类的子类。除了Exception类外，Throwable还有一个子类Error 。

Java 程序通常不捕获错误。错误一般发生在严重故障时，它们在Java程序处理的范畴之外。

Error 用来指示运行时环境发生的错误。

例如，JVM 内存溢出。一般地，程序不会从错误中恢复。

异常类有两个主要的子类：IOException 类和 RuntimeException 类。

![](http://www.runoob.com/wp-content/uploads/2013/12/12-130Q1234I6223.jpg)

Java语言规范将派生与Error类或RuntimeException类的所有异常称为非受查异常，所以其他的异常称为受查异常，这是两个很有用的术语，编译器将核查是否为所有的受查异常提供了异常处理器。

#### :circus_tent:Exception 声明受查异常  ####

在自己编写方法时，不必将所有可能抛出的异常都进行声明，至于什么时候需要在方法中用throws子句声明异常，什么异常必须使用throws子句声明，需要记住在遇到下面4种情况时应抛出异常：

 * 调用一个抛出受查异常的方法，例如FileInputStream构造器
 
 * 程序运行过程中发现错误，并利用throw语句抛出一个受查异常
 
 * 程序出现错误，例如数组索引溢出的异常
 
 * Java虚拟机和运行时库出现的内部错误。
 
 对于有些异常，如果没有处理器捕获这个异常，当前执行的线程就会结束。
 
 对于那些可能被他人使用的Java方法，应该根据异常规范在方法的首部声明这个方法可能抛出异常：
 
 ```java
     public  static void main(String arg[])throws IOException
    {
        
    }
```

如果一个方法有可能抛出多个受查异常类型，那么就必须在方法的首部列出所有的异常类，每个异常之间用逗号隔开：

```java
    public  static void main(String arg[])throws IOException, EOFException
    {

    }

```

但是不需要声明Java的内部错误，即从Error继承的错误，任何程序代码都具有抛出那些异常的潜能，而我们对其没有任何控制能力。同样，也不应该声明从RuntimeException继承的那些非受查异常，因为这些错误完全在我们控制下，因为这是你写的程序。

总之，一个方法必须声明所有可能抛出的受查异常，而非受查异常要么不可控制（Error），要么就应该避免发生。如果方法没有声明可能的受查异常，编译器就会发出一个错误消息。









